<!DOCTYPE html>
<html>
<head>
  <title>Your Cart</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 0 auto; padding: 20px; }
    .cart-item { border: 1px solid #ddd; padding: 15px; margin-bottom: 10px; border-radius: 5px; }
    .veg { color: green; }
    .nonveg { color: red; }
    .total { font-weight: bold; margin: 20px 0; font-size: 18px; }
    .menu-link { 
      display: inline-block; margin: 20px 10px 20px 0; padding: 10px; 
      background: #2196F3; color: white; text-decoration: none; border-radius: 5px; 
    }
    .place-order-btn {
      background: #4CAF50; color: white; padding: 12px 20px;
      border: none; border-radius: 5px; cursor: pointer;
      font-size: 16px; margin-top: 10px;
    }
    .form-group { margin-bottom: 15px; }
    .form-group label { display: block; margin-bottom: 5px; }
    .form-group input { width: 100%; padding: 8px; box-sizing: border-box; }
  </style>
</head>
<body>
  <h1>Your Cart</h1>
  
  <% if (!cart || cart.length === 0) { %>
    <p>Your cart is empty. <a href="/" class="menu-link">Back to Menu</a></p>
  <% } else { %>
    <% cart.forEach((item, index) => { %>
      <div class="cart-item">
        <h3><%= item.name %> - ₹<%= item.price %> <span class="<%= item.type %>">(<%= item.type === 'veg' ? 'Veg' : 'Non-Veg' %>)</span></h3>
        <p>Preparation Time: <%= item.prepTime %> mins</p>
        <form action="/remove-from-cart" method="POST">
          <input type="hidden" name="index" value="<%= index %>">
          <button type="submit">Remove</button>
        </form>
      </div>
    <% }) %>
    
    <div class="total">
      Total: ₹<%= cart.reduce((sum, item) => sum + parseFloat(item.price), 0).toFixed(2) %>
    </div>
    
    <form action="/place-order" method="POST">
      <div class="form-group">
        <label for="tableNumber">Table Number:</label>
        <input type="number" id="tableNumber" name="tableNumber" required>
      </div>
      
      <div class="form-group">
        <label for="email">Email Address:</label>
        <input type="email" id="email" name="email" required>
      </div>
      
      <button type="submit" class="place-order-btn">Place Order</button>
    </form>
    
    <a href="/" class="menu-link">Continue Shopping</a>
  <% } %>
</body>
</html>